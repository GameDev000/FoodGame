<div dir="rtl" lang="he">

<div class="box">
    <h2>תיאור פתרון מטלה מתגלגלת – תהליך ליבה (סבביח)</h2>
    <p>
        המשחק הוא גרסה דו־ממדית בסיסית של "סבביח". שחקן עומד מאחורי הדוכן ובוחר רכיבי מזון
        (פיתה, חציל, ביצה, טחינה) מתוך מגש הרכיבים. לקוח יחיד מגיע לדוכן ומזמין מנה מוגדרת.
        השחקן צריך לבחור את הרכיבים הנכונים ולהגיש אותם בזמן, לפני שהלקוח מאבד סבלנות.
    </p>
</div>

<div class="box">
    <h2>תהליך הליבה</h2>
    <ul>
        <li>השחקן לוחץ על רכיבי המזון, וכל רכיב נרשם בלוח המודעות בצד ימין.</li>
        <li>הלקוח מגיע אל הדלפק באמצעות <strong>MoveToCounter</strong>.</li>
        <li>לכל לקוח יש טיימר סבלנות אישי: פניו משתנים כל כמה שניות באמצעות <strong>CustomerMoodTimer</strong>.</li>
        <li>בלחיצה על הלקוח מתבצעת בדיקת התאמה בין הרכיבים שנבחרו לבין ההזמנה שלו.</li>
        <li>אם המנה נכונה – הלקוח מרוצה, עוצר את הטיימר, והולך הצידה מהמסך.</li>
        <li>אם הזמן נגמר – הלקוח כועס ועוזב את הדוכן.</li>
    </ul>
</div>

<div class="box">
    <h2>איך מפעילים?</h2>
    <ul>
        <li>להריץ את הסצנה הראשית ב־Unity.</li>
        <li>ללחוץ על רכיבים כדי להוסיף אותם לרשימה.</li>
        <li>ללחוץ על הלקוח כדי לבדוק האם המנה תואמת להזמנה.</li>
        <li>לראות את תגובת הלקוח: שמח → הולך הצידה. כועס → עוזב.</li>
    </ul>
</div>

<div class="box">
    <h2>ארכיטקטורת קוד</h2>
    <ul>
        <li><strong>Player/Item:</strong> מייצג רכיב מזון. בעת לחיצה מפעיל <code>OnClick()</code> שמוסיף את הרכיב ל־<strong>SelectionList</strong>.</li>
        <li><strong>Manager/SelectionList:</strong> מנהל את רשימת הרכיבים שנבחרו ומציג אותם בטקסט בלוח המודעות. כולל גם בדיקת התאמה להזמנה.</li>
        <li><strong>Manager/clickManager:</strong> אחראי על Raycast וקבלת אינפוט עכבר מהמסך.</li>
        <li><strong>Enemies/CheckOrder:</strong> בודק את ההזמנה בעת לחיצה על לקוח (התאמה בין SelectionList להזמנה הנכונה).</li>
        <li><strong>Enemies/CustomerMoodTimer:</strong> מנהל את טיימר הסבלנות ואת שינוי פני הלקוח, וגם את "הליכה הצידה" כשהוא עוזב.</li>
        <li><strong>Enemies/MoveToCounter:</strong> גורם ללקוח ללכת אל הדוכן בתחילת הסצנה.</li>
    </ul>
</div>

<div class="box" style="text-align:center;">
    <h2>תרשים UML</h2>

<pre style="display:inline-block; text-align:left;">

+-----------------------+          +--------------------------+
|      clickManager     |          |      SelectionList       |
+-----------------------+          +--------------------------+
| +Update()             |          | - selectedText           |
| +RaycastToItem()      |          | - selectedIngredients    |
+-----------------------+          | - Instance (static)      |
                                   +--------------------------+
                                   | +AddIngredient(name)     |
                                   | +ClearIngredients()      |
                                   | +IsSelectionMatching()   |
                                   +--------------------------+
                                              ^
                                              |
                               uses          |
+--------------------------+                 |
|          Item            |                 |
+--------------------------+                 |
| - ingredientName         |-----------------+
+--------------------------+
| +OnClick()               |
+--------------------------+


+--------------------------+        +---------------------------+
|        CheckOrder        |        |     CustomerMoodTimer     |
+--------------------------+        +---------------------------+
| - correctOrder[]         |        | - moodFaces[]             |
| - selectionList          |        | - timer, currentFace      |
+--------------------------+        | - moodStopped             |
| +OnMouseDown()           |        +---------------------------+
| (בודק מול SelectionList) |        | +CustomerServed()         |
+--------------------------+        | +Update()                 |
                                     | +WalkAwayAndDestroy()     |
                                     +---------------------------+


+---------------------------+
|       MoveToCounter       |
+---------------------------+
| - target : Transform      |
| - speed : float           |
+---------------------------+
| +Update()                 |
+---------------------------+

</pre>
</div>

<div class="box">
    <h2>סיכום</h2>
    <p>
        המימוש מציג בבירור את תהליך הליבה: בחירת רכיבים, בדיקת התאמה להזמנת הלקוח,
        והתנהגות הלקוח בהתאם לזמן ולדיוק. כל האלמנטים גרפיים פשוטים, בהתאם לדרישת המטלה
        להתמקד במשחקיות ולא בעיצוב סופי.
    </p>
</div>

</div>
